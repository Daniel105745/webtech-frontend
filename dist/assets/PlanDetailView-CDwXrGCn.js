import{d as C,c as h,a as l,b as e,e as v,t as r,F as w,r as N,w as D,o as i,f,g as O,u as I,h as E,i as S,j as k,v as y,k as A,_ as F}from"./index-AaPHW8kd.js";const M={class:"min-h-screen bg-[#0b1120] px-10 py-10 text-gray-200"},L={class:"flex items-center justify-between mb-10"},U={class:"text-center flex-1"},R={class:"text-2xl font-bold text-white"},q={class:"text-gray-400 text-sm mt-1"},J={class:"bg-[#1e293b] p-6 rounded-xl shadow-md border border-[#334155] mb-10"},K={class:"flex justify-around text-center text-sm"},Z={class:"text-lg font-semibold text-gray-100"},G={class:"text-lg font-semibold text-blue-400"},H={class:"text-lg font-semibold text-gray-100"},Q={key:0,class:"text-center text-gray-500 italic py-8"},X={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},Y=["onClick"],ee={class:"text-lg font-semibold mb-1 text-white"},te={class:"text-sm text-gray-400"},se={class:"text-xs text-gray-500 mt-1 italic"},oe={key:0,class:"mt-4 border-t border-[#334155] pt-3"},ne={class:"text-sm text-gray-400 space-y-1"},ae={key:1,class:"text-sm text-gray-500 italic mt-3"},re=["onClick"],le=["onClick"],ie={key:2,class:"text-center text-gray-500 italic py-10 bg-[#1e293b] rounded-xl border border-dashed border-[#3b4b63]"},de=C({__name:"PlanDetail",props:{plan:{},workouts:{},loading:{type:Boolean}},emits:["add-workout","edit-workout","delete-workout","back"],setup(_){const d=_,b=h(()=>d.plan),p=h(()=>d.workouts),g=h(()=>d.loading);return(m,t)=>(i(),l("div",M,[e("div",L,[e("button",{onClick:t[0]||(t[0]=s=>m.$emit("back")),class:"flex items-center gap-2 text-blue-400 hover:text-white bg-[#1e293b] hover:bg-[#334155] px-4 py-2 rounded-lg transition active:scale-95 shadow-sm border border-[#334155]"},[...t[3]||(t[3]=[e("i",{class:"bi bi-arrow-left"},null,-1),v(" ZurÃ¼ck ",-1)])]),e("div",U,[e("h1",R," ðŸ‹ï¸ "+r(b.value?.name||"Trainingsplan"),1),e("p",q,r(b.value?.zielmuskeln),1)]),e("button",{onClick:t[1]||(t[1]=s=>m.$emit("add-workout")),class:"bg-[#3b82f6] hover:bg-[#2563eb] text-white font-medium px-5 py-2 rounded-lg shadow-md hover:shadow-lg transition active:scale-95"}," + Workout hinzufÃ¼gen ")]),e("div",J,[e("div",K,[e("div",null,[t[4]||(t[4]=e("p",{class:"text-gray-400"},"Dauer",-1)),e("p",Z,r(b.value?.dauer),1)]),e("div",null,[t[5]||(t[5]=e("p",{class:"text-gray-400"},"IntensitÃ¤t",-1)),e("p",G,r(b.value?.intensitaet),1)]),e("div",null,[t[6]||(t[6]=e("p",{class:"text-gray-400"},"Trainingsziel",-1)),e("p",H,r(b.value?.zielmuskeln),1)])])]),e("section",null,[t[10]||(t[10]=e("h2",{class:"text-xl font-semibold mb-4 flex items-center gap-2 text-white"}," ðŸ’ª Workouts ",-1)),g.value?(i(),l("div",Q," Workouts werden geladen... ")):p.value.length?(i(),l("div",X,[(i(!0),l(w,null,N(p.value,s=>(i(),l("div",{key:s.id,onClick:u=>m.$router.push(`/workouts/${s.id}`),class:"bg-[#1e293b] border border-[#334155] rounded-xl p-6 shadow-md hover:shadow-xl hover:-translate-y-1 transition-all duration-200 cursor-pointer"},[e("div",null,[e("h3",ee,r(s.name),1),e("p",te,r(s.muskelgruppe),1),e("p",se,r(s.dayOfWeek),1)]),s.exercises?.length?(i(),l("div",oe,[t[7]||(t[7]=e("h4",{class:"font-medium text-gray-300 mb-2"},"Ãœbungen:",-1)),e("ul",ne,[(i(!0),l(w,null,N(s.exercises,u=>(i(),l("li",{key:u.id,class:"flex justify-between"},[e("span",null,r(u.name),1),e("span",null,r(u.saetze)+"Ã—"+r(u.wiederholungen)+" â€“ "+r(u.gewicht)+" kg",1)]))),128))])])):(i(),l("div",ae," Keine Ãœbungen hinzugefÃ¼gt ")),e("div",{class:"border-t border-[#334155] mt-4 pt-3 flex justify-between items-center",onClick:t[2]||(t[2]=D(()=>{},["stop"]))},[e("button",{onClick:u=>m.$emit("edit-workout",s),class:"flex items-center gap-2 text-sm font-medium text-white bg-[#3b82f6] hover:bg-[#2563eb] px-4 py-2 rounded-lg shadow-md hover:shadow-lg transition-all active:scale-95"},[...t[8]||(t[8]=[e("i",{class:"bi bi-pencil text-white"},null,-1),v(" Bearbeiten ",-1)])],8,re),e("button",{onClick:u=>m.$emit("delete-workout",s.id),class:"flex items-center gap-2 text-sm font-medium text-white bg-[#ef4444] hover:bg-[#dc2626] px-4 py-2 rounded-lg shadow-md hover:shadow-lg transition-all active:scale-95"},[...t[9]||(t[9]=[e("i",{class:"bi bi-trash text-white"},null,-1),v(" LÃ¶schen ",-1)])],8,le)])],8,Y))),128))])):(i(),l("div",ie," Noch keine Workouts hinzugefÃ¼gt "))])]))}}),ue={key:0,class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 backdrop-blur-sm"},ce={class:"bg-[#202124] text-gray-200 rounded-2xl shadow-xl p-6 w-full max-w-md mx-4 animate-fadeIn border border-[#303134]"},be={class:"text-xl font-semibold mb-4 text-white"},me={class:"space-y-4"},pe={class:"flex justify-end gap-3 mt-6"},ge=C({__name:"PlanDetailView",setup(_){const d="https://webtech-backend-rqq7.onrender.com",b=I(),p=A(),g=f(void 0),m=f([]),t=f(!0),s=f(null);O(()=>{u(),x()});async function u(){try{const o=Number(b.params.id);if(Number.isNaN(o))return;const n=await fetch(`${d}/plans`);if(!n.ok)return;const a=await n.json();g.value=a.find(c=>c.id===o)||void 0}catch(o){console.error(o)}}async function x(){t.value=!0;try{const o=Number(b.params.id),n=await fetch(`${d}/workouts/plan/${o}`);if(!n.ok)return;const a=await n.json();m.value=await Promise.all(a.map(async c=>{const $=Number(c.id);if(Number.isNaN($))return{...c,exercises:[]};const W=await fetch(`${d}/exercises/workout/${$}`),B=W.ok?await W.json():[];return{...c,exercises:B}}))}catch(o){console.error(o)}finally{t.value=!1}}function j(){const o=Number(b.params.id);s.value={name:"",dayOfWeek:"",muskelgruppe:"",trainingPlanId:Number.isNaN(o)?void 0:o}}function P(o){s.value={...o}}async function z(){if(!s.value)return;const o=s.value,n=o.id?"PUT":"POST",a=o.id?`${d}/workouts/${o.id}`:`${d}/workouts/plan/${o.trainingPlanId}`;try{const c=await fetch(a,{method:n,headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o.name,muskelgruppe:o.muskelgruppe,dayOfWeek:o.dayOfWeek})});if(!c.ok)return alert(`Fehler: ${c.status}`);s.value=null,await x()}catch(c){console.error("Fehler beim Speichern:",c)}}async function T(o){if(!(!o||!confirm("Workout wirklich lÃ¶schen?")))try{if(!(await fetch(`${d}/workouts/${o}`,{method:"DELETE"})).ok)return alert("Fehler beim LÃ¶schen");await x()}catch(n){console.error(n)}}function V(){p.push("/plans")}return(o,n)=>(i(),l(w,null,[E(de,{plan:g.value,workouts:m.value,loading:t.value,onAddWorkout:j,onEditWorkout:P,onDeleteWorkout:n[0]||(n[0]=a=>T(a)),onBack:V},null,8,["plan","workouts","loading"]),s.value?(i(),l("div",ue,[e("div",ce,[e("h2",be,r(s.value.id?"Workout bearbeiten":"Workout hinzufÃ¼gen"),1),e("div",me,[k(e("input",{"onUpdate:modelValue":n[1]||(n[1]=a=>s.value.name=a),placeholder:"Workout-Name",class:"w-full bg-[#1a1a1d] border border-[#3a3b3d] rounded-lg px-4 py-2 text-gray-100 focus:ring-2 focus:ring-blue-500 focus:outline-none transition"},null,512),[[y,s.value.name]]),k(e("input",{"onUpdate:modelValue":n[2]||(n[2]=a=>s.value.dayOfWeek=a),placeholder:"Tag der Woche",class:"w-full bg-[#1a1a1d] border border-[#3a3b3d] rounded-lg px-4 py-2 text-gray-100 focus:ring-2 focus:ring-blue-500 focus:outline-none transition"},null,512),[[y,s.value.dayOfWeek]]),k(e("input",{"onUpdate:modelValue":n[3]||(n[3]=a=>s.value.muskelgruppe=a),placeholder:"Muskelgruppe",class:"w-full bg-[#1a1a1d] border border-[#3a3b3d] rounded-lg px-4 py-2 text-gray-100 focus:ring-2 focus:ring-blue-500 focus:outline-none transition"},null,512),[[y,s.value.muskelgruppe]])]),e("div",pe,[e("button",{onClick:n[4]||(n[4]=a=>s.value=null),class:"px-4 py-2 text-sm font-medium text-gray-200 bg-[#2a2b2e] hover:bg-[#3a3b3d] rounded-lg transition active:scale-95"}," Abbrechen "),e("button",{onClick:z,class:"px-4 py-2 text-sm font-medium text-white bg-[#3b82f6] hover:bg-[#2563eb] rounded-lg shadow-md hover:shadow-lg transition active:scale-95"}," Speichern ")])])])):S("",!0)],64))}}),xe=F(ge,[["__scopeId","data-v-ad6ebd30"]]);export{xe as default};

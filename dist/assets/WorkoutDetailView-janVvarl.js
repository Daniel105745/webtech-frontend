import{d as $,a as d,b as e,e as h,t as u,F as E,r as T,i as N,w as z,o as c,_,f as m,g as q,l as I,m as L,n as M,u as U,h as A,p as F,k as G,j as f,v as x}from"./index-AaPHW8kd.js";const O={class:"min-h-screen bg-gray-50 px-10 py-10 text-gray-800"},P={class:"flex items-center justify-between mb-10"},R={class:"text-center flex-1"},J={class:"text-2xl font-bold text-gray-900"},K={class:"text-gray-500 text-sm mt-1"},Z={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 mb-10"},H={class:"flex justify-around text-center text-sm"},Q={class:"text-lg font-semibold"},X={class:"text-lg font-semibold text-blue-600"},Y={key:0,class:"text-center text-gray-500 italic py-8"},ee={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},te={class:"text-lg font-semibold mb-1 text-gray-800"},ne={class:"text-sm text-gray-500 mb-2"},oe={key:0,class:"text-xs text-gray-400"},se=["onClick"],re=["onClick"],ie={key:2,class:"text-center text-gray-400 italic py-10 bg-white rounded-xl border border-dashed border-gray-300"},le=$({__name:"WorkoutDetail",props:{workout:{},exercises:{},loading:{type:Boolean}},emits:["add-exercise","edit-exercise","delete-exercise","back"],setup(l){return(i,n)=>(c(),d("div",O,[e("div",P,[e("button",{onClick:n[0]||(n[0]=r=>i.$emit("back")),class:"flex items-center gap-2 text-blue-600 hover:text-blue-700 bg-blue-50 hover:bg-blue-100 px-4 py-2 rounded-lg transition active:scale-95"},[...n[4]||(n[4]=[e("i",{class:"bi bi-arrow-left"},null,-1),h(" ZurÃ¼ck ",-1)])]),e("div",R,[e("h1",J," ðŸ‹ï¸ "+u(l.workout?.name||"Workout"),1),e("p",K,u(l.workout?.muskelgruppe||"â€”"),1)]),e("button",{onClick:n[1]||(n[1]=r=>i.$emit("add-exercise")),class:"bg-blue-600 hover:bg-blue-700 text-white font-medium px-5 py-2 rounded-lg shadow transition active:scale-95"}," + Ãœbung hinzufÃ¼gen ")]),e("div",Z,[e("div",H,[e("div",null,[n[5]||(n[5]=e("p",{class:"text-gray-500"},"Muskelgruppe",-1)),e("p",Q,u(l.workout?.muskelgruppe||"â€”"),1)]),e("div",null,[n[6]||(n[6]=e("p",{class:"text-gray-500"},"Tag",-1)),e("p",X,u(l.workout?.dayOfWeek||"â€”"),1)])])]),e("section",null,[n[10]||(n[10]=e("h2",{class:"text-xl font-semibold mb-4 flex items-center gap-2"}," ðŸ’ª Ãœbungen ",-1)),l.loading?(c(),d("div",Y," Ãœbungen werden geladen... ")):l.exercises&&l.exercises.length?(c(),d("div",ee,[(c(!0),d(E,null,T(l.exercises,r=>(c(),d("div",{key:r.id,class:"card bg-white rounded-xl p-6 border border-gray-200 shadow-sm hover:shadow-md hover:-translate-y-1 transition-all duration-200 cursor-pointer"},[e("div",null,[e("h3",te,u(r.name),1),e("p",ne,u(r.wiederholungen)+" Wiederholungen Ã— "+u(r.saetze)+" SÃ¤tze ",1),r.gewicht?(c(),d("p",oe," Gewicht: "+u(r.gewicht)+" kg ",1)):N("",!0)]),e("div",{class:"border-t border-gray-border mt-4 pt-3 flex justify-between items-center",onClick:n[2]||(n[2]=z(()=>{},["stop"]))},[e("button",{onClick:b=>i.$emit("edit-exercise",r),class:"flex items-center gap-1 text-sm text-primary bg-blue-50 hover:bg-blue-100 px-3 py-1.5 rounded-md transition-all active:scale-95"},[...n[7]||(n[7]=[e("i",{class:"bi bi-pencil"},null,-1),h(" Bearbeiten ",-1)])],8,se),e("button",{onClick:b=>i.$emit("delete-exercise",r.id),class:"flex items-center gap-1 text-sm text-danger bg-red-50 hover:bg-red-100 px-3 py-1.5 rounded-md transition-all active:scale-95"},[...n[8]||(n[8]=[e("i",{class:"bi bi-trash"},null,-1),h(" LÃ¶schen ",-1)])],8,re)])]))),128))])):(c(),d("div",ie,[n[9]||(n[9]=e("p",{class:"mb-4"},"Noch keine Ãœbungen hinzugefÃ¼gt",-1)),e("button",{onClick:n[3]||(n[3]=r=>i.$emit("add-exercise")),class:"bg-blue-600 hover:bg-blue-700 text-white font-medium px-4 py-2 rounded-lg shadow-sm"}," + Ãœbung hinzufÃ¼gen ")]))])]))}}),ae=_(le,[["__scopeId","data-v-58801196"]]),ue={key:0,class:"fixed inset-0 bg-black/40 flex items-center justify-center z-50"},de={class:"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md mx-4 animate-fadeIn",role:"dialog","aria-modal":"true"},ce={class:"text-xl font-semibold mb-4 text-gray-900"},ge={class:"grid grid-cols-2 gap-3"},be=$({__name:"WorkoutDetailView",setup(l){const i="https://webtech-backend-rqq7.onrender.com",n=U(),r=G(),b=m(null),y=m([]),p=m(!0),s=m(null);q(()=>{C(),v()}),I(()=>{s.value&&setTimeout(()=>{document.querySelector('input[placeholder="Ãœbungsname"]')?.focus()},50)});function w(t){t.key==="Escape"&&k()}L(s,t=>{t?window.addEventListener("keydown",w):window.removeEventListener("keydown",w)}),M(()=>{window.removeEventListener("keydown",w)});async function C(){try{const t=Number(n.params.id);if(Number.isNaN(t))return;const o=await fetch(`${i}/workouts/${t}`);o.ok&&(b.value=await o.json())}catch(t){console.error(t)}}async function v(){p.value=!0;try{const t=Number(n.params.id);if(Number.isNaN(t))return;const o=await fetch(`${i}/exercises/workout/${t}`);o.ok&&(y.value=await o.json())}finally{p.value=!1}}function S(){const t=Number(n.params.id);s.value={name:"",wiederholungen:8,saetze:3,gewicht:0,workoutId:Number.isNaN(t)?void 0:t}}function V(t){s.value={...t}}function k(){s.value=null}async function j(){if(!s.value)return;const t=s.value;if(!t.name||!t.saetze||!t.wiederholungen){alert("Bitte alle Felder ausfÃ¼llen.");return}const o=t.id?"PUT":"POST",a=t.id?`${i}/exercises/${t.id}`:`${i}/exercises/workout/${t.workoutId}`,W=JSON.stringify({name:t.name,saetze:t.saetze,wiederholungen:t.wiederholungen,gewicht:t.gewicht??0});try{const g=await fetch(a,{method:o,headers:{"Content-Type":"application/json"},body:W});if(!g.ok){const D=await g.text();alert(`Fehler beim Speichern: ${g.status} - ${D}`);return}s.value=null,await v()}catch(g){console.error(g),alert("Fehler beim Speichern.")}}async function B(t){if(confirm("Ãœbung wirklich lÃ¶schen?"))try{(await fetch(`${i}/exercises/${t}`,{method:"DELETE"})).ok&&await v()}catch(o){console.error(o)}}return(t,o)=>(c(),d(E,null,[A(ae,{workout:b.value,exercises:y.value,loading:p.value,onAddExercise:S,onEditExercise:V,onDeleteExercise:B,onBack:F(r).back},null,8,["workout","exercises","loading","onBack"]),s.value?(c(),d("div",ue,[e("div",de,[e("h2",ce,u(s.value.id?"Ãœbung bearbeiten":"Ãœbung hinzufÃ¼gen"),1),e("form",{onSubmit:z(j,["prevent"]),class:"space-y-4"},[f(e("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>s.value.name=a),placeholder:"Ãœbungsname",required:"",class:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"},null,512),[[x,s.value.name,void 0,{trim:!0}]]),e("div",ge,[f(e("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>s.value.wiederholungen=a),type:"number",min:"1",placeholder:"Wiederholungen",required:"",class:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"},null,512),[[x,s.value.wiederholungen,void 0,{number:!0}]]),f(e("input",{"onUpdate:modelValue":o[2]||(o[2]=a=>s.value.saetze=a),type:"number",min:"1",placeholder:"SÃ¤tze",required:"",class:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"},null,512),[[x,s.value.saetze,void 0,{number:!0}]])]),f(e("input",{"onUpdate:modelValue":o[3]||(o[3]=a=>s.value.gewicht=a),type:"number",min:"0",placeholder:"Gewicht (kg)",class:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"},null,512),[[x,s.value.gewicht,void 0,{number:!0}]]),e("div",{class:"flex justify-end gap-3 mt-6"},[e("button",{type:"button",onClick:k,class:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium transition"}," Abbrechen "),o[4]||(o[4]=e("button",{type:"submit",class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition"}," Speichern ",-1))])],32)])])):N("",!0)],64))}}),fe=_(be,[["__scopeId","data-v-616254fe"]]);export{fe as default};
